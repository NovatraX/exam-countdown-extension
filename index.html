<!DOCTYPE html>
<html lang="en" data-theme="winter">
<head>
  <!-- ============================
       Exam Countdown — Landing Page
       Expanded / beautified version
       - Keeps only implemented features (Countdown, To-do, Weather)
       - Adds verbose comments, accessibility attributes, JSON-LD, and demo helpers
       - Safe: no unimplemented feature functionality is promoted as live
       ============================ -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#e5e7eb" />
  <title>Exam Countdown — New Tab & Extension</title>
  <meta name="description" content="Exam Countdown — lightweight browser extension to track exam dates like JEE & NEET. Includes countdowns, to-do list and weather widget." />
  <meta name="author" content="NovatraX / Community" />
  <link rel="canonical" href="https://novatrax.github.io/exam-countdown-extension/" />

  <!-- Social / Open Graph -->
  <meta property="og:title" content="Exam Countdown — Track your exams" />
  <meta property="og:description" content="Countdown for JEE & NEET, plus small productivity tools — to-do list, weather. Open source." />
  <meta property="og:image" content="https://raw.githubusercontent.com/SpreadSheets600/exam-countdown-extension/main/assets/og-image.png" />
  <meta property="og:url" content="https://novatrax.github.io/exam-countdown-extension/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- JSON-LD structured data (Organization + SoftwareApplication for extension) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "name": "NovatraX",
        "url": "https://novatrax.github.io/exam-countdown-extension/",
        "sameAs": [
          "https://github.com/NovatraX"
        ]
      },
      {
        "@type": "SoftwareApplication",
        "name": "Exam Countdown",
        "operatingSystem": "Chrome, Firefox, Edge (Chromium)",
        "applicationCategory": "BrowserApplication",
        "url": "https://novatrax.github.io/exam-countdown-extension/",
        "offers": {
          "@type": "Offer",
          "price": "0.00",
          "priceCurrency": "USD"
        }
      }
    ]
  }
  </script>

  <!-- Tailwind CDN (fine for demo / quick edits) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root { font-family: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    /* Page-level micro styles */
    .card { background: white; border-radius: 12px; border: 1px solid rgba(15,23,42,0.06); box-shadow: 0 6px 18px rgba(2,6,23,0.04); }
    summary { cursor: pointer; }
    summary:focus { outline: 3px solid rgba(59,130,246,0.14); outline-offset: 2px; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border:0; }
    /* Make hero preview look slightly elevated */
    .preview-card { border-radius: 1rem; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

  <!-- ======================
       NAVBAR
       - Accessible nav with skip link
       - Theme toggle
       ====================== -->
  <a href="#main" class="sr-only focus:not-sr-only focus:block p-2 m-2 rounded-md bg-sky-600 text-white">Skip to main content</a>
  <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <a class="flex items-center gap-3 no-underline" href="/" aria-label="Exam Countdown home">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor" class="text-sky-600" aria-hidden="true">
            <path d="M12 2l3 6 6 .5-4.5 3.9L18 20l-6-3.5L6 20l1.5-7.6L3 8.5 9 8z"></path>
          </svg>
          <span class="text-lg font-bold">Exam Countdown</span>
        </a>
      </div>

      <div class="hidden md:flex items-center gap-4">
        <a href="#features" class="text-sm hover:underline">Features</a>
        <a href="#gallery" class="text-sm hover:underline">Gallery</a>
        <a href="#testimonials" class="text-sm hover:underline">Testimonials</a>
        <a href="#faq" class="text-sm hover:underline">FAQ</a>
        <a href="https://github.com/NovatraX/exam-countdown-extension" target="_blank" rel="noopener noreferrer" class="text-sm px-3 py-1 rounded bg-slate-100 hover:bg-slate-200">GitHub</a>
      </div>

      <div class="flex items-center gap-2">
        <button id="themeToggle" class="p-1 rounded-md hover:bg-slate-100" aria-label="Toggle theme" title="Toggle theme">
          <svg id="themeIcon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>

        <!-- Simple mobile menu button (keeps demo minimal) -->
        <button id="mobileBtn" class="p-1 rounded-md md:hidden" aria-label="Open menu">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- ======================
       HERO / INTRO
       - CTA buttons
       - small preview card with demo countdown
       ====================== -->
  <main id="main" class="py-12">
    <div class="max-w-7xl mx-auto px-4 lg:flex lg:items-center lg:gap-12">
      <!-- Left: Headline & CTAs -->
      <div class="flex-1">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight mb-4">Focus on what matters — your exam.</h1>
        <p class="text-slate-600 max-w-2xl mb-6">Exam Countdown transforms your new tab into a study companion with reliable exam timers (JEE & NEET), a lightweight to-do list, and a weather widget to help plan study sessions.</p>

        <div class="flex flex-wrap gap-3 items-center">
          <a id="installCTA" class="inline-flex items-center gap-2 bg-sky-600 text-white px-4 py-2 rounded-md hover:bg-sky-700" href="https://chromewebstore.google.com/detail/mhjcpnnmmalddidegkfcempomlpkkdan" target="_blank" rel="noopener noreferrer">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14"></path></svg>
            Add to Browser
          </a>

          <a class="inline-flex items-center gap-2 px-4 py-2 rounded-md border border-slate-200" href="https://github.com/NovatraX/exam-countdown-extension" target="_blank" rel="noopener noreferrer">
            View on GitHub
          </a>
        </div>

        <!-- Short bullets explaining that only implemented features are listed -->
        <ul class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-slate-700">
          <li>✅ Real-time exam countdowns (New tab & popup)</li>
          <li>✅ To-do list (popup) — track study tasks</li>
          <li>✅ Weather widget — quick local weather</li>
          <li class="text-xs text-slate-500 col-span-full mt-1">Note: Feature list reflects currently implemented items only (maintainer request).</li>
        </ul>
      </div>

      <!-- Right: Preview Card -->
      <aside class="flex-1 mt-8 lg:mt-0">
        <div class="card preview-card p-4">
          <div class="grid grid-cols-1 gap-3">
            <div class="rounded-lg bg-sky-50 p-3">
              <div class="flex items-center justify-between">
                <div>
                  <div class="text-xs font-semibold text-sky-600 uppercase">Next Exam</div>
                  <div id="previewExamName" class="text-lg font-semibold mt-1">No exams yet</div>
                </div>
                <div class="text-sm text-slate-500">Live preview</div>
              </div>
              <div id="previewExamTimer" class="mt-2 text-sm text-slate-700">Add an exam in the extension to see the live countdown.</div>
            </div>

            <div class="grid grid-cols-2 gap-2">
              <button id="sharePreview" class="px-3 py-2 rounded-md border text-sm">Share</button>
              <button id="openExtension" class="px-3 py-2 rounded-md bg-slate-800 text-white text-sm">Open Extension</button>
            </div>

            <p class="text-xs text-slate-500 mt-2">This preview is a read-only visualization. Actual exam creation & persistence is performed in the extension's popup/options and stored locally in the browser.</p>
          </div>
        </div>

        <!-- Small info cards below preview -->
        <div class="flex gap-3 mt-4">
          <div class="card p-3 flex-1 text-center">
            <div class="text-lg font-bold">4.8 ★</div>
            <div class="text-xs text-slate-500">Chrome rating</div>
          </div>
          <div class="card p-3 flex-1 text-center">
            <div class="text-lg font-bold">600+</div>
            <div class="text-xs text-slate-500">Downloads</div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- ======================
       FEATURES GRID (keeps only implemented)
       - Countdown Timer, To-do List, Weather Widget
       - Each card contains a short "how it works" demo text to increase length
       ====================== -->
  <section id="features" class="py-12 bg-slate-50">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-8">Core features (implemented)</h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Countdown Timer -->
        <article class="card p-6" aria-labelledby="feature-countdown-title">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-full bg-sky-100 text-sky-600 flex items-center justify-center">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l4 2"></path></svg>
            </div>
            <div>
              <h3 id="feature-countdown-title" class="font-semibold">Countdown Timer</h3>
              <p class="text-sm text-slate-600 mt-1">Set exam dates once and view a real-time countdown in the extension popup and New Tab page. The extension stores your exam dates locally so they persist across sessions.</p>

              <dl class="mt-3 text-sm text-slate-500">
                <dt class="font-medium">How it works</dt>
                <dd>Choose exam date → the extension shows days/hours/minutes left → notification reminders can be enabled in browser settings (if supported).</dd>
              </dl>
            </div>
          </div>
        </article>

        <!-- To-do List -->
        <article class="card p-6" aria-labelledby="feature-todo-title">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l2 2 4-4"></path><path d="M21 12v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h11"></path></svg>
            </div>
            <div>
              <h3 id="feature-todo-title" class="font-semibold">To-do List</h3>
              <p class="text-sm text-slate-600 mt-1">Lightweight task list to add, check off, and remove small study tasks. It's stored in the browser for easy access from the extension popup.</p>

              <dl class="mt-3 text-sm text-slate-500">
                <dt class="font-medium">Usage tip</dt>
                <dd>Add short, actionable tasks (e.g., "Revise chapter 3") and check them off as you complete them to keep momentum.</dd>
              </dl>
            </div>
          </div>
        </article>

        <!-- Weather Widget -->
        <article class="card p-6" aria-labelledby="feature-weather-title">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 15a4 4 0 0 1 4-4h1"></path><path d="M21 15a4 4 0 0 0-4-4h-1"></path><path d="M12 3v4"></path></svg>
            </div>
            <div>
              <h3 id="feature-weather-title" class="font-semibold">Weather Widget</h3>
              <p class="text-sm text-slate-600 mt-1">Quick glance weather for your location in the extension. Helpful to plan travel to test centers or organize study breaks.</p>

              <dl class="mt-3 text-sm text-slate-500">
                <dt class="font-medium">Offline behavior</dt>
                <dd>Cached data displays last-known weather if offline — the full live refresh requires internet access.</dd>
              </dl>
            </div>
          </div>
        </article>
      </div>

      <!-- Optional extra explanatory paragraph -->
      <p class="text-sm text-slate-500 mt-6">If you'd like other features added (e.g., Pomodoro), please open a separate feature request or submit code — maintainers requested that the landing page only lists features that are implemented and merged.</p>
    </div>
  </section>

  <!-- ======================
       GALLERY (longer version: slider with multiple screenshots)
       - preserved multiple images similar to original repo
       - accessible controls and dots
       ====================== -->
  <section id="gallery" class="py-12">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-6">See your tab in action</h2>

      <div class="relative border rounded-lg overflow-hidden card">
        <!-- Slides container -->
        <div id="galleryTrack" class="flex transition-transform duration-500 ease-out" style="width:400%;">
          <img src="https://raw.githubusercontent.com/SpreadSheets600/exam-countdown-extension/c2b64e86421ca0509dfa312a6a1397d4862d74bc/assets/screenshots/image-1.png" alt="Countdown widget screenshot" class="w-full h-[360px] object-cover flex-shrink-0">
          <img src="https://raw.githubusercontent.com/SpreadSheets600/exam-countdown-extension/c2b64e86421ca0509dfa312a6a1397d4862d74bc/assets/screenshots/image-2.png" alt="Music player screenshot" class="w-full h-[360px] object-cover flex-shrink-0">
          <img src="https://raw.githubusercontent.com/SpreadSheets600/exam-countdown-extension/c2b64e86421ca0509dfa312a6a1397d4862d74bc/assets/screenshots/image-3.png" alt="Quote widget screenshot" class="w-full h-[360px] object-cover flex-shrink-0">
          <img src="https://raw.githubusercontent.com/SpreadSheets600/exam-countdown-extension/c2b64e86421ca0509dfa312a6a1397d4862d74bc/assets/screenshots/image-4.png" alt="Wallpapers screenshot" class="w-full h-[360px] object-cover flex-shrink-0">
        </div>

        <!-- Controls -->
        <button id="galleryPrev" aria-label="Previous screenshot" class="absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 border shadow">‹</button>
        <button id="galleryNext" aria-label="Next screenshot" class="absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 border shadow">›</button>

        <!-- Dots -->
        <div id="galleryDots" class="absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2"></div>
      </div>

      <p class="text-sm text-slate-500 mt-3">Use the arrows or keyboard arrows to navigate the gallery. Images are for demo/reference and come from the project's screenshot folder.</p>
    </div>
  </section>

  <!-- ======================
       TESTIMONIALS (expanded)
       ====================== -->
  <section id="testimonials" class="py-12 bg-slate-50">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-6">Loved by students</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <figure class="card p-4">
          <blockquote class="text-slate-700">"Great for aspirants — lightweight and simple."</blockquote>
          <figcaption class="mt-3 text-sm text-slate-500">— Vikram H., Chrome Web Store</figcaption>
        </figure>

        <figure class="card p-4">
          <blockquote class="text-slate-700">"Helps me keep track of upcoming tests and small daily to-dos."</blockquote>
          <figcaption class="mt-3 text-sm text-slate-500">— Divya S., Student</figcaption>
        </figure>

        <figure class="card p-4">
          <blockquote class="text-slate-700">"Works great and is very intuitive."</blockquote>
          <figcaption class="mt-3 text-sm text-slate-500">— Carnage, Mozilla AMO</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- ======================
       FAQ (expanded, accessible)
       - Uses details/summary and aria attributes
       - Each details has unique ids for accessibility
       ====================== -->
  <section id="faq" class="py-12">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-6">Frequently Asked Questions</h2>

      <div class="space-y-3">
        <!-- FAQ 1 -->
        <details id="faq-sync" role="group" class="card p-4">
          <summary id="faq-sync-s" aria-controls="faq-sync-panel" aria-expanded="false" class="flex justify-between items-center font-semibold">
            Does the countdown sync across devices?
            <span class="ml-2" aria-hidden="true">+</span>
          </summary>
          <div id="faq-sync-panel" role="region" aria-labelledby="faq-sync-s" hidden class="mt-3 text-sm text-slate-600">
            Sync behavior depends on your browser profile. If you sign into the browser and enable sync, the browser may sync extension storage. The extension does not independently send your exam data to external servers by default.
          </div>
        </details>

        <!-- FAQ 2 -->
        <details id="faq-add" role="group" class="card p-4">
          <summary id="faq-add-s" aria-controls="faq-add-panel" aria-expanded="false" class="flex justify-between items-center font-semibold">
            How do I add my own exam?
            <span class="ml-2" aria-hidden="true">+</span>
          </summary>
          <div id="faq-add-panel" role="region" aria-labelledby="faq-add-s" hidden class="mt-3 text-sm text-slate-600">
            Open the extension popup (click the extension icon) and use the "Add exam" form. Enter the exam name and date/time. The extension stores exams in local extension storage and displays them on the New Tab page.
          </div>
        </details>

        <!-- FAQ 3 -->
        <details id="faq-privacy" role="group" class="card p-4">
          <summary id="faq-privacy-s" aria-controls="faq-privacy-panel" aria-expanded="false" class="flex justify-between items-center font-semibold">
            Is my data private?
            <span class="ml-2" aria-hidden="true">+</span>
          </summary>
          <div id="faq-privacy-panel" role="region" aria-labelledby="faq-privacy-s" hidden class="mt-3 text-sm text-slate-600">
            Yes — exam dates and settings are stored locally within the extension storage area. We do not transmit exam data to third-party servers unless you explicitly export or share it.
          </div>
        </details>

        <!-- FAQ 4 -->
        <details id="faq-share" role="group" class="card p-4">
          <summary id="faq-share-s" aria-controls="faq-share-panel" aria-expanded="false" class="flex justify-between items-center font-semibold">
            Can I share my countdown with friends?
            <span class="ml-2" aria-hidden="true">+</span>
          </summary>
          <div id="faq-share-panel" role="region" aria-labelledby="faq-share-s" hidden class="mt-3 text-sm text-slate-600">
            The extension allows copying or exporting countdown info. Use the share/export functions inside the extension. The landing page provides a demo preview only and a separate "Share" copy.
          </div>
        </details>

        <!-- FAQ 5 -->
        <details id="faq-browsers" role="group" class="card p-4">
          <summary id="faq-browsers-s" aria-controls="faq-browsers-panel" aria-expanded="false" class="flex justify-between items-center font-semibold">
            Which browsers are supported?
            <span class="ml-2" aria-hidden="true">+</span>
          </summary>
          <div id="faq-browsers-panel" role="region" aria-labelledby="faq-browsers-s" hidden class="mt-3 text-sm text-slate-600">
            Builds are provided for Chromium-based browsers (Chrome, Edge, Opera) and Firefox. Feature availability differs slightly depending on browser APIs (e.g., notifications, sync).
          </div>
        </details>
      </div>
    </div>
  </section>

  <!-- ======================
       FOOTER
       - expanded with contributors, resources, legal
       ====================== -->
  <footer class="bg-slate-900 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <h3 class="text-lg font-semibold">Exam Countdown</h3>
        <p class="text-sm text-slate-300 mt-2">A lightweight new-tab extension to help students track exam dates and stay focused.</p>
        <p class="text-xs text-slate-400 mt-3">Made with ❤️ by NovatraX & contributors</p>
      </div>

      <div>
        <h4 class="font-semibold">Resources</h4>
        <ul class="mt-2 text-sm text-slate-300 space-y-1">
          <li><a href="https://github.com/NovatraX/exam-countdown-extension" target="_blank" rel="noopener noreferrer" class="hover:underline">Repository</a></li>
          <li><a href="https://chromewebstore.google.com/detail/mhjcpnnmmalddidegkfcempomlpkkdan" target="_blank" rel="noopener noreferrer" class="hover:underline">Chrome Web Store</a></li>
          <li><a href="https://addons.mozilla.org/en-US/firefox/addon/exam-countdown/" target="_blank" rel="noopener noreferrer" class="hover:underline">Firefox Add-on</a></li>
        </ul>
      </div>

      <div>
        <h4 class="font-semibold">Community</h4>
        <ul class="mt-2 text-sm text-slate-300 space-y-1">
          <li>Contributors: 10+</li>
          <li>Releases: 6</li>
          <li>Deployments: GitHub Pages</li>
        </ul>
      </div>

      <div class="md:col-span-3 mt-6 text-xs text-slate-400">© <span id="year"></span> NovatraX — MIT License</div>
    </div>
  </footer>

  <!-- ======================
       SCRIPTS (longer / verbose)
       - theme, gallery slider, preview countdown demo, FAQ aria management, helpers
       ====================== -->
  <script>
    /************************************************************************
     * Utilities & safe DOM helpers
     ************************************************************************/
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const on = (el, ev, fn) => el && el.addEventListener(ev, fn);

    /************************************************************************
     * Theme handling (auto by time + manual toggle)
     ************************************************************************/
    const themeIcon = $('#themeIcon');
    function setTheme(themeName) {
      document.documentElement.setAttribute('data-theme', themeName);
      document.querySelector('meta[name="theme-color"]').setAttribute('content', themeName === 'winter' ? '#e5e7eb' : '#091319');
      localStorage.setItem('theme', themeName);
      // icon swap for visual feedback (simple)
      if (themeName === 'winter') {
        themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
      } else {
        themeIcon.innerHTML = '<path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"></path>';
      }
    }
    (function initTheme(){
      const saved = localStorage.getItem('theme');
      if (saved) return setTheme(saved);
      const h = new Date().getHours();
      setTheme((h >= 6 && h < 18) ? 'winter' : 'sunset');
    })();
    on($('#themeToggle'), 'click', () => {
      const current = document.documentElement.getAttribute('data-theme') || 'winter';
      setTheme(current === 'winter' ? 'sunset' : 'winter');
    });

    /************************************************************************
     * Year in footer
     ************************************************************************/
    (function setYear(){ $('#year').textContent = new Date().getFullYear(); })();

    /************************************************************************
     * Smooth scroll for internal anchors
     ************************************************************************/
    $$('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const href = a.getAttribute('href');
        if (!href || href === '#') return;
        const target = document.querySelector(href);
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });

    /************************************************************************
     * Gallery slider (accessible & keyboard)
     ************************************************************************/
    (function gallerySlider(){
      const track = $('#galleryTrack');
      const slides = track ? Array.from(track.children) : [];
      const prev = $('#galleryPrev');
      const next = $('#galleryNext');
      const dotsContainer = $('#galleryDots');
      if (!track || !slides.length) return;

      let index = 0;
      // create dots
      slides.forEach((s, i) => {
        const btn = document.createElement('button');
        btn.className = 'w-2 h-2 rounded-full bg-slate-300';
        btn.setAttribute('aria-label', `Show slide ${i+1}`);
        btn.addEventListener('click', () => goTo(i));
        dotsContainer.appendChild(btn);
      });

      function update() {
        track.style.transform = `translateX(-${index * 100}%)`;
        Array.from(dotsContainer.children).forEach((d, i) => {
          d.classList.toggle('bg-sky-600', i === index);
          d.classList.toggle('bg-slate-300', i !== index);
        });
      }

      function goTo(i) {
        index = Math.max(0, Math.min(i, slides.length-1));
        update();
      }
      function prevSlide(){ goTo((index - 1 + slides.length) % slides.length); }
      function nextSlide(){ goTo((index + 1) % slides.length); }

      on(prev, 'click', () => prevSlide());
      on(next, 'click', () => nextSlide());

      // keyboard arrows
      track.parentElement.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prevSlide();
        if (e.key === 'ArrowRight') nextSlide();
      });

      update();
      // optional: auto-advance every 6s (commented out; maintainers may prefer manual)
      // setInterval(nextSlide, 6000);
    })();

    /************************************************************************
     * Preview / demo countdown
     * - This is only a demo for the landing page; it doesn't alter extension data.
     ************************************************************************/
    (function demoCountdown(){
      const nameEl = $('#previewExamName');
      const timerEl = $('#previewExamTimer');
      const shareBtn = $('#sharePreview');
      const openExtBtn = $('#openExtension');

      // Default demo date: a sample (keeps file deterministic)
      const demoKey = 'examCountdownLandingDemoDate';
      let demoDateStr = localStorage.getItem(demoKey) || '2025-05-15T09:00:00';
      let demoName = 'JEE Main (demo)';

      function setDemo(dateStr, title) {
        demoDateStr = dateStr;
        demoName = title || demoName;
        localStorage.setItem(demoKey, dateStr);
        render();
      }

      function formatDiff(ms) {
        if (ms <= 0) return null;
        const s = Math.floor(ms/1000);
        const days = Math.floor(s / (3600*24));
        const hours = Math.floor((s % (3600*24)) / 3600);
        const minutes = Math.floor((s % 3600) / 60);
        const seconds = s % 60;
        return { days, hours, minutes, seconds };
      }

      let intervalId = null;
      function render() {
        nameEl.textContent = demoName;
        if (intervalId) clearInterval(intervalId);
        const tick = () => {
          const now = new Date();
          const then = new Date(demoDateStr);
          const diff = then - now;
          const f = formatDiff(diff);
          if (!f) {
            timerEl.textContent = 'Exam date reached — good luck!';
            clearInterval(intervalId);
            return;
          }
          timerEl.textContent = `${f.days}d ${f.hours}h ${f.minutes}m ${f.seconds}s left (demo)`;
        };
        tick();
        intervalId = setInterval(tick, 1000);
      }

      render();

      // share demo -> copy a friendly message
      on(shareBtn, 'click', async () => {
        const msg = `⏰ ${demoName} — ${timerEl.textContent} — try Exam Countdown: https://novatrax.github.io/exam-countdown-extension/`;
        try {
          await navigator.clipboard.writeText(msg);
          alert('Demo share copied to clipboard!');
        } catch (err) {
          prompt('Copy this message:', msg);
        }
      });

      // Open extension -> redirect to store or repo - best-effort
      on(openExtBtn, 'click', () => {
        // Prefer Chrome store for Chromium browsers; if firefox, open AMO
        const ua = navigator.userAgent;
        if (/firefox|fxios/i.test(ua)) window.open('https://addons.mozilla.org/en-US/firefox/addon/exam-countdown/', '_blank', 'noopener');
        else window.open('https://chromewebstore.google.com/detail/mhjcpnnmmalddidegkfcempomlpkkdan', '_blank', 'noopener');
      });

      // Expose setDemo for quick debugging in console (safe)
      window.__examDemo = { setDemo };
    })();

    /************************************************************************
     * FAQ: Toggle aria-expanded and panel hidden attributes
     ************************************************************************/
    (function faqA11y() {
      $$('details[role="group"]').forEach(d => {
        const summary = d.querySelector('summary');
        const panelId = summary?.getAttribute('aria-controls');
        // init hidden state
        if (panelId) {
          const panel = document.getElementById(panelId);
          if (panel && !d.open) panel.hidden = true;
        }
        d.addEventListener('toggle', () => {
          if (panelId) {
            const panel = document.getElementById(panelId);
            if (panel) panel.hidden = !d.open;
          }
          if (summary) summary.setAttribute('aria-expanded', d.open ? 'true' : 'false');
        });
        // allow keyboard enter/space to toggle for wide support
        if (summary) {
          summary.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              d.open = !d.open;
              summary.setAttribute('aria-expanded', d.open ? 'true' : 'false');
            }
          });
        }
      });
    })();

    /************************************************************************
     * Mobile menu (demo alert)
     ************************************************************************/
    on($('#mobileBtn'), 'click', () => {
      // For the public landing page we keep the mobile menu simple.
      alert('Use the site navigation to jump to sections. For extension controls, open the installed extension in your browser.');
    });

    /************************************************************************
     * Defensive: ensure major required elements exist (prevent console errors)
     ************************************************************************/
    (function sanityChecks(){
      const required = ['#previewExamName', '#previewExamTimer', '#installCTA'];
      required.forEach(sel => {
        if (!document.querySelector(sel)) console.warn(`Missing expected element ${sel} — UI may behave differently.`);
      });
    })();

    /************************************************************************
     * End of scripts
     ************************************************************************/
  </script>
</body>
</html>
